<!DOCTYPE html>
<html lang="en">
<head>
	<title>Kaprekars Constant</title>
	<link rel="stylesheet" type="text/css" href="./style.css" />
</head>
<body>
	<div id = 'container'>
		<div id = "box">
			<h2>
				Kaprekar's Constant
			</h2 id = "small-margin">
			<p id="small-margin"><strong><u>Instruction:</u></strong> Enter any four non-identical digit number with at least two distinct digits in the box below and click the  button to get the number of steps it takes the number to become a kaprekar's constant (6174)</p>
			<div>
				<div id="small-margin">
					<input type="text" id="userInput" placeholder="Enter a valid four digit number here" pattern="[0-9]{4}"  require />
				</div>
			</div>
			<div id="error"></div>
			<div id="small-margin"><br>
				<button class="computeStep" id="computeStep" name="computeStep">Step Count</button>
			</div>
		</div>

		<div id = "box">
			<div id="result" class = "result"></div>
			
		</div>
	</div>
<script>
	


function kaprekarRec(n , prev)
{
	if (n == 0)
	return 0;
	var count=0;

	// Store current n as previous number
	prev = n;

	// Get four digits of given number
	var digits= Array.from({length: 4}, (_, i) => 0);
	for (i=0; i<4; i++)
	{
	digits[i] = n%10;
	n = parseInt(n/10);
	}

	// Sort all four digits in ascending order
	// And giet in the form of number "asc"
	digits.sort();
	var asc = 0;
	for (i=0; i<4; i++)
	asc = asc*10 + digits[i];

	// Get all four digits in descending order
	// in the form of number "desc"
	digits.sort();
	var desc = 0;
	for (i=3; i>=0; i--)
	desc = desc*10 + digits[i];

	// Get the difference of two numbers
	var diff = Math.abs(asc - desc);

	// If difference is same as previous, we have
	// reached kaprekar's constant
	if (diff == prev)
		return count;

	// Else recur
	return kaprekarRec(diff, prev);
	count++;
}

// A wrapper over kaprekarRec()
function kaprekar(n)
{
	var prev = 0;
	return kaprekarRec(n, prev);
}


</script>


</body>
</html>

